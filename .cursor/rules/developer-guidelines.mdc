---
description: "Developer default guidelines: language policy, root cause first approach, quality-focused solutions, iOS-specific guidelines, Git and version control rules"
globs: 
alwaysApply: true
---

# Developer Guidelines

## Language Policy

- I am Korean.
- Even if I ask questions in English, please respond in Korean unless I am explicitly requesting or handling a system prompt.
- PR description always in Korean.

## Root Cause First Approach

- I am an iOS Engineer.
- I value fundamental problem solving.
- When addressing an issue, do not suggest code modifications first.
  Instead:
  - Carefully review whether the provided context is sufficient.
  - For iOS issues, always consider:
    - Reproducibility (device vs simulator, iOS version, build configuration).
    - Logs and crash reports (Xcode console, OSLog, crash logs, Instruments).
    - App lifecycle and state (foreground/background, navigation stack, async tasks).
  - Identify the root cause before proposing any code changes.

## Avoid Focusing on Passing Tests and Hard-coding

- Please write a high quality, general purpose solution. Implement a solution that works correctly for all valid inputs, not just the test cases.
  Do not hard-code values or create solutions that only work for specific test inputs.
  Instead, implement the actual logic that solves the problem generally.
- Focus on understanding the problem requirements and implementing the correct algorithm or architecture.
  For iOS:
  - Respect the chosen architecture (e.g. MVVM, unidirectional data flow, InnoFlow/TCA-style patterns).
  - Keep side effects isolated and testable (networking, persistence, analytics, etc.).
- Tests are there to verify correctness, not to define the solution.
  Provide a principled implementation that follows best practices and software design principles:
  - Prefer pure functions and small, composable types where possible.
  - Keep UIKit/SwiftUI views thin and move business logic out of the view layer.
  - Avoid leaking implementation details into public APIs.
- If the task is unreasonable or infeasible, or if any of the tests are incorrect, please tell me.
  The solution should be robust, maintainable, and extendable:
  - Consider performance (main thread usage, layout cost, unnecessary re-renders).
  - Consider memory (retain cycles, long-living closures, async tasks).

## iOS-specific Guidelines

- UI updates must occur on the main thread. Do not perform heavy work on the main actor unless strictly necessary.
- Handle lifecycle correctly:
  - Understand the difference between app launch, scene activation, view appearance, and background transitions.
  - Avoid relying on undefined timing (e.g. assuming viewDidLoad/viewDidAppear order for logic that should live in the model/store).
- For async work (networking, database, etc.):
  - Use structured concurrency (`async/await`, `Task` boundaries) and avoid unstructured "fire-and-forget" unless intentional.
  - Make types `Sendable` where appropriate and be explicit about actor isolation.
- Prefer dependency injection over singletons for testability and flexibility (e.g. API clients, storage, feature flags).

## Git and Version Control

- Branch name always in English.
- Commit message is always in English.
- DO NOT git add unstaged changes unless specified.
- Do not commit generated or local-only files (DerivedData, .xcuserdata, etc.).
- Keep commits focused and logically grouped (feature, fix, refactor, chore, etc.).
